var $App={$data:{},$events:{},$computed:{}};$App.$root=new $View;var $Data={};$Data.set=$App.$root.set.bind($App.$root),$Data.get=$App.$root.get.bind($App.$root),$Data.increment=$App.$root.add.bind($App.$root),$Data.decrement=$App.$root.subtract.bind($App.$root),$Data.pop=$App.$root.pop.bind($App.$root),$Data.push=$App.$root.push.bind($App.$root),$Data.merge=$App.$root.merge.bind($App.$root),$Data.sort=$App.$root.sort.bind($App.$root),$Data.shift=$App.$root.shift.bind($App.$root),$Data.unshift=$App.$root.unshift.bind($App.$root),$Data.splice=$App.$root.splice.bind($App.$root),$Data.observe=$App.$root.observe.bind($App.$root),$Data.toggle=$App.$root.toggle.bind($App.$root);var $Event={};$Event.on=$App.$root.on.bind($App.$root),$Event.off=$App.$root.off.bind($App.$root),$Event.once=$App.$root.once.bind($App.$root),$Event.fire=$App.$root.fire.bind($App.$root),$View.prototype.increment=$View.prototype.add,$View.prototype.decrement=$View.prototype.subtract,$View.prototype.trigger=function(e){var t=this;return function(){t.fire(e)}},$App.$tags={},$App.$components={},$App.$components_events={},$App.$components_observe={};var $Tag=function(n,e){$App.$component=n,$App.$components_events[n]={},$App.$components_observe[n]={},$App.$components[n]=$View.extend({template:e,data:{$:!1},computed:{},oninit:function(){for(var e in this.name=n,this.get("id")&&($App.$tags[this.get("id")]=this),$App.$components_events[n])this.on(e,$App.$components_events[n][e]);for(var t in $App.$components_observe[n])this.observe(t,$App.$components_observe[n][t]);this.fire("init")},onrender:function(){this.fire("render")},onunrender:function(){this.fire("unrender")}})};$Tag.on=function(e,t){$App.$components_events[$App.$component][e]=t},$Tag.observe=function(e,t){$App.$components_observe[$App.$component][e]=t};var $Api={count:0,hasUrl:{},$request:{},$requests:[],$timer:!($Tag.get=function(e){return $App.$tags[e]}),send:function(e){if($Api.count+=1,$Api.hasUrl[$Api.$request.url]=!0,e=e||function(){},$Api.$request.success=e,"UPLOAD"==$Api.$request.method)return $Api.send_upload(e);"GET"==$Api.$request.method?$Api.$request.params="":$Api.$request.params=JSON.stringify($Api.$request.params),$Event.fire("api.init",$Api.$request);var t,n=new XMLHttpRequest;for(t in n.success=$Api.$request.success,n.onload=function(){if(--$Api.count,200===n.status)try{var e=JSON.parse(n.responseText);$Event.fire("api.success",e),n.success(e)}catch(e){$Event.fire("api.error",{})}else $Event.fire("api.error",{});0==$Api.count&&$Event.fire("api.finished",{}),$Event.fire("api.serverlogged",e["Console-Log-Server"])},clearTimeout($Api.timer),$Api.timer=setTimeout(function(){$Api.hasUrl={}},1e3),n.open($Api.$request.method,$Api.$request.url),$Api.$request.headers)n.setRequestHeader(t,$Api.$request.headers[t]);n.setRequestHeader("Content-Type","application/json"),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.send($Api.$request.params)},send_upload:function(e){$Api.$loading=!0;var t=document.getElementById("form-file-upload");t&&(t.attrs("action",$Api.$request.url),$Event.fire("api.init",$Api.$request),t.submit())},get:function(e){return $Api.$request.url=e,$Api.$request.method="GET",$Api},post:function(e){return $Api.$request.url=e,$Api.$request.method="POST",$Api},patch:function(e){return $Api.$request.url=e,$Api.$request.method="PATCH",$Api},delete:function(e){return $Api.$request.url=e,$Api.$request.method="DELETE",$Api},upload:function(e){return $Api.$request.url=e,$Api.$request.method="UPLOAD",$Api},params:function(e){return $Api.$request.params=e,"GET"!=$Api.$request.method&&"UPLOAD"!=$Api.$request.method||(-1==$Api.$request.url.indexOf("?")?$Api.$request.url+="?":$Api.$request.url+="&",$Api.$request.url+=$Api.encode($Api.$request.params)),$Api},headers:function(e){return $Api.$request.headers=e,$Api},encode:function(e){return Object.keys($Api.$request.params).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent($Api.$request.params[e])}).join("&")}};document.addEventListener("DOMContentLoaded",function(){$App.$root.components=$App.$components,setTimeout(function(){$App.$root.render("#app"),$App.$root.resetTemplate("#app.tpl"),$Event.fire("page.load")},300),setTimeout(function(){$Event.fire("init"),$Event.fire("page.init")},600),document.body.addEventListener("click",function(e){$Event.fire("body.clicked")})}),function(e){"use strict";function t(){}var s={},p=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,n=/\d\d?/,o=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,i=/\[([^]*?)\]/gm;function r(e,t){for(var n=[],o=0,r=e.length;o<r;o++)n.push(e[o].substr(0,t));return n}function u(o){return function(e,t,n){t=n[o].indexOf(t.charAt(0).toUpperCase()+t.substr(1).toLowerCase());~t&&(e.month=t)}}function a(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}var $=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c=["January","February","March","April","May","June","July","August","September","October","November","December"],f=r(c,3),d=r($,3);s.i18n={dayNamesShort:d,dayNames:$,monthNamesShort:f,monthNames:c,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][3<e%10?0:(e-e%10!=10)*e%10]}};var m={D:function(e){return e.getDate()},DD:function(e){return a(e.getDate())},Do:function(e,t){return t.DoFn(e.getDate())},d:function(e){return e.getDay()},dd:function(e){return a(e.getDay())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return e.getMonth()+1},MM:function(e){return a(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},YY:function(e){return String(e.getFullYear()).substr(2)},YYYY:function(e){return e.getFullYear()},h:function(e){return e.getHours()%12||12},hh:function(e){return a(e.getHours()%12||12)},H:function(e){return e.getHours()},HH:function(e){return a(e.getHours())},m:function(e){return e.getMinutes()},mm:function(e){return a(e.getMinutes())},s:function(e){return e.getSeconds()},ss:function(e){return a(e.getSeconds())},S:function(e){return Math.round(e.getMilliseconds()/100)},SS:function(e){return a(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return a(e.getMilliseconds(),3)},a:function(e,t){return e.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(e,t){return(e.getHours()<12?t.amPm[0]:t.amPm[1]).toUpperCase()},ZZ:function(e){e=e.getTimezoneOffset();return(0<e?"-":"+")+a(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)}},l={D:[n,function(e,t){e.day=t}],Do:[new RegExp(n.source+o.source),function(e,t){e.day=parseInt(t,10)}],M:[n,function(e,t){e.month=t-1}],YY:[n,function(e,t){var n=+(""+(new Date).getFullYear()).substr(0,2);e.year=""+(68<t?n-1:n)+t}],h:[n,function(e,t){e.hour=t}],m:[n,function(e,t){e.minute=t}],s:[n,function(e,t){e.second=t}],YYYY:[/\d{4}/,function(e,t){e.year=t}],S:[/\d/,function(e,t){e.millisecond=100*t}],SS:[/\d{2}/,function(e,t){e.millisecond=10*t}],SSS:[/\d{3}/,function(e,t){e.millisecond=t}],d:[n,t],ddd:[o,t],MMM:[o,u("monthNamesShort")],MMMM:[o,u("monthNames")],a:[o,function(e,t,n){t=t.toLowerCase();t===n.amPm[0]?e.isPm=!1:t===n.amPm[1]&&(e.isPm=!0)}],ZZ:[/[\+\-]\d\d:?\d\d/,function(e,t){var n=(t+"").match(/([\+\-]|\d\d)/gi);n&&(t=60*n[1]+parseInt(n[2],10),e.timezoneOffset="+"===n[0]?t:-t)}]};l.dd=l.d,l.dddd=l.ddd,l.DD=l.D,l.mm=l.m,l.hh=l.H=l.HH=l.h,l.MM=l.M,l.ss=l.s,l.A=l.a,s.masks={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},s.format=function(t,e,n){var o=n||s.i18n;if("number"==typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date in fecha.format");e=s.masks[e]||e||s.masks.default;var r=[];return(e=(e=e.replace(i,function(e,t){return r.push(t),"??"})).replace(p,function(e){return e in m?m[e](t,o):e.slice(1,e.length-1)})).replace(/\?\?/g,function(){return r.shift()})},s.parse=function(o,e,t){var r=t||s.i18n;if("string"!=typeof e)throw new Error("Invalid format in fecha.parse");if(e=s.masks[e]||e,1e3<o.length)return!1;var i=!0,u={};if(e.replace(p,function(e){var t,n;return l[e]&&(t=l[e],~(n=o.search(t[0]))?o.replace(t[0],function(e){return t[1](u,e,r),o=o.substr(n+e.length),e}):i=!1),l[e]?"":e.slice(1,e.length-1)}),!i)return!1;e=new Date;return!0===u.isPm&&null!=u.hour&&12!=+u.hour?u.hour=+u.hour+12:!1===u.isPm&&12==+u.hour&&(u.hour=0),null!=u.timezoneOffset?(u.minute=+(u.minute||0)-+u.timezoneOffset,new Date(Date.UTC(u.year||e.getFullYear(),u.month||0,u.day||1,u.hour||0,u.minute||0,u.second||0,u.millisecond||0))):new Date(u.year||e.getFullYear(),u.month||0,u.day||1,u.hour||0,u.minute||0,u.second||0,u.millisecond||0)},"undefined"!=typeof module&&module.exports?module.exports=s:"function"==typeof define&&define.amd?define(function(){return s}):e.fecha=s}(this),Date.prototype.format=function(e){return fecha.format(this,e)},Date.prototype.parse=function(e){return fecha.parse(e,"YYYY-MM-DD")},Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(e){e=0===arguments.length||!!e;var t=this.parentNode,n=window.getComputedStyle(t,null),o=parseInt(n.getPropertyValue("border-top-width")),r=parseInt(n.getPropertyValue("border-left-width")),i=this.offsetTop-t.offsetTop<t.scrollTop,u=this.offsetTop-t.offsetTop+this.clientHeight-o>t.scrollTop+t.clientHeight,s=this.offsetLeft-t.offsetLeft<t.scrollLeft,p=this.offsetLeft-t.offsetLeft+this.clientWidth-r>t.scrollLeft+t.clientWidth,n=i&&!u;(i||u)&&e&&(t.scrollTop=this.offsetTop-t.offsetTop-t.clientHeight/2-o+this.clientHeight/2),(s||p)&&e&&(t.scrollLeft=this.offsetLeft-t.offsetLeft-t.clientWidth/2-r+this.clientWidth/2),(i||u||s||p)&&!e&&this.scrollIntoView(n)}),Element.prototype.attrs=function(e,t){if(1==arguments.length)return this.getAttribute(e);this.setAttribute(e,t)},function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.$View.events)}(this,function(e){"use strict";function t(o){return function(t,n){function e(e){(e.which||e.keyCode)===o&&(e.preventDefault(),n({node:t,original:e}))}return t.addEventListener("keydown",e,!1),{teardown:function(){t.removeEventListener("keydown",e,!1)}}}}var n=t(9),o=t(13),r=t(32),i=t(27),u=t(38),s=t(40),p=t(37),a=t(39);e.tab=n,e.enter=o,e.space=r,e.escape=i,e.uparrow=u,e.downarrow=s,e.leftarrow=p,e.rightarrow=a});
